<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>재고 현황 관리</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Package 아이콘 컴포넌트
        const Package = ({ size = 24, className = "" }) => (
            <svg 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round"
                className={className}
            >
                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
        );

        function InventoryManager() {
            const [inventory, setInventory] = useState([
                { id: 1, name: '0후지', boxStock: 0, packStock: 0 },
                { id: 2, name: '3후지', boxStock: 0, packStock: 0 },
                { id: 3, name: 'S후지', boxStock: 0, packStock: 0 },
                { id: 4, name: '등심', boxStock: 0, packStock: 0 },
                { id: 5, name: '지방', boxStock: 0, packStock: 0 },
                { id: 6, name: '사골', boxStock: 0, packStock: 0 },
                { id: 7, name: '단족', boxStock: 0, packStock: 0 },
                { id: 8, name: '삼겹(등갈비X)', boxStock: 0, packStock: 0 },
                { id: 9, name: '삼겹(등갈비O)', boxStock: 0, packStock: 0 },
                { id: 10, name: '롤삼겹', boxStock: 0, packStock: 0 },
                { id: 11, name: '갈비(3대)', boxStock: 0, packStock: 0 },
                { id: 12, name: '갈비(4대)', boxStock: 0, packStock: 0 },
                { id: 13, name: '목살', boxStock: 0, packStock: 0 },
                { id: 14, name: 'B목살', boxStock: 0, packStock: 0 },
                { id: 15, name: 'T등뼈', boxStock: 0, packStock: 0 },
                { id: 16, name: 'T목뼈', boxStock: 0, packStock: 0 },
                { id: 17, name: '싹뼈', boxStock: 0, packStock: 0 },
                { id: 18, name: '안심', boxStock: 0, packStock: 0 },
                { id: 19, name: '잡육', boxStock: 0, packStock: 0 },
                { id: 20, name: '갈매기', boxStock: 0, packStock: 0 },
                { id: 21, name: '한우스지', boxStock: 0, packStock: 0 },
                { id: 22, name: '한우사골', boxStock: 0, packStock: 0 },
                { id: 23, name: '한우잡뼈', boxStock: 0, packStock: 0 },
                { id: 24, name: '목전지', boxStock: 0, packStock: 0 },
                { id: 25, name: '대패', boxStock: 0, packStock: 0 },
                { id: 26, name: '깐양', boxStock: 0, packStock: 0 },
            ]);

            const [selectedItem, setSelectedItem] = useState(null);

            const updateStock = (id, unit, change) => {
                setInventory(inventory.map(item => {
                    if (item.id === id) {
                        if (unit === 'box') {
                            const newStock = Math.max(0, item.boxStock + change);
                            return { ...item, boxStock: newStock };
                        } else {
                            const newStock = Math.max(0, item.packStock + change);
                            return { ...item, packStock: newStock };
                        }
                    }
                    return item;
                }));
            };

            const handleItemClick = (id) => {
                setSelectedItem(selectedItem === id ? null : id);
            };

            return (
                <div className="w-screen h-screen bg-gray-100 overflow-hidden" style={{ maxWidth: '744px', maxHeight: '1133px', margin: '0 auto' }}>
                    <div className="h-full flex flex-col">
                        <div className="bg-black shadow-md p-4 flex-shrink-0">
                            <div className="flex items-center justify-center gap-3">
                                <Package size={28} className="text-white" />
                                <h1 className="text-3xl font-bold text-white">재고 현황</h1>
                            </div>
                        </div>

                        <div className="flex-1 overflow-auto p-4">
                            <div className="grid grid-cols-3 gap-3">
                                {inventory.map((item) => (
                                    <div key={item.id}>
                                        <div
                                            onClick={() => handleItemClick(item.id)}
                                            className={`border-2 rounded-xl p-3 cursor-pointer transition-all ${
                                                selectedItem === item.id
                                                    ? 'border-black bg-gray-200 shadow-lg'
                                                    : 'border-gray-400 bg-white hover:border-gray-600 hover:shadow-md'
                                            }`}
                                        >
                                            <h3 className="text-base font-bold text-black mb-2 text-center">
                                                {item.name}
                                            </h3>
                                            <div className="space-y-1">
                                                <div className="flex items-center justify-center gap-2">
                                                    <span className="text-2xl font-bold text-red-600">
                                                        {item.boxStock}
                                                    </span>
                                                    <span className="text-sm text-gray-600 font-medium">
                                                        박스
                                                    </span>
                                                </div>
                                                <div className="flex items-center justify-center gap-2">
                                                    <span className="text-2xl font-bold text-blue-600">
                                                        {item.packStock}
                                                    </span>
                                                    <span className="text-sm text-gray-600 font-medium">
                                                        팩
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        {selectedItem === item.id && (
                                            <div className="mt-2 bg-white border-2 border-black rounded-xl p-3 shadow-lg">
                                                {/* 박스 조절 */}
                                                <div className="mb-3">
                                                    <div className="text-sm font-bold text-red-600 mb-1 text-center">박스 (B)</div>
                                                    <div className="grid grid-cols-4 gap-2">
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'box', -5);
                                                            }}
                                                            className="py-2 bg-gray-600 text-white rounded-lg active:bg-gray-800 transition-colors font-bold"
                                                        >
                                                            -5
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'box', -1);
                                                            }}
                                                            className="py-2 bg-gray-500 text-white rounded-lg active:bg-gray-700 transition-colors font-bold"
                                                        >
                                                            -1
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'box', 1);
                                                            }}
                                                            className="py-2 bg-red-500 text-white rounded-lg active:bg-red-700 transition-colors font-bold"
                                                        >
                                                            +1
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'box', 5);
                                                            }}
                                                            className="py-2 bg-red-600 text-white rounded-lg active:bg-red-800 transition-colors font-bold"
                                                        >
                                                            +5
                                                        </button>
                                                    </div>
                                                </div>

                                                {/* 팩 조절 */}
                                                <div>
                                                    <div className="text-sm font-bold text-blue-600 mb-1 text-center">팩 (P)</div>
                                                    <div className="grid grid-cols-4 gap-2">
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'pack', -5);
                                                            }}
                                                            className="py-2 bg-gray-600 text-white rounded-lg active:bg-gray-800 transition-colors font-bold"
                                                        >
                                                            -5
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'pack', -1);
                                                            }}
                                                            className="py-2 bg-gray-500 text-white rounded-lg active:bg-gray-700 transition-colors font-bold"
                                                        >
                                                            -1
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'pack', 1);
                                                            }}
                                                            className="py-2 bg-blue-500 text-white rounded-lg active:bg-blue-700 transition-colors font-bold"
                                                        >
                                                            +1
                                                        </button>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                updateStock(item.id, 'pack', 5);
                                                            }}
                                                            className="py-2 bg-blue-600 text-white rounded-lg active:bg-blue-800 transition-colors font-bold"
                                                        >
                                                            +5
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InventoryManager />);
    </script>
</body>
</html>
